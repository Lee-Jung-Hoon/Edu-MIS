<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="videoLecture.dao.LectureMapper">
	<insert id="lectureRegist" parameterType="VideoLectureVO">
		insert into
		user_lecture(no, title, contents, video)
		values
		(seq_user_lecture_no.nextVal, #{title}, #{contents}, #{video})
	</insert>

	<select id="lectureList" resultType="VideoLectureVO"
		parameterType="map">
		select no, title, time, rownum as rnum
		from(select no,
		title, time, rownum as rnum
		from(select no, title,
		to_char(time,'yyyy-mm-dd') as time
		from user_lecture
		order by no desc))
		where rnum between #{startPage} and #{endPage}
	</select>

	<select id="lectureDetail" parameterType="VideoLectureVO"
		resultType="VideoLectureVO">
		select no, title, contents, video,
		to_char(time,'yyyy-mm-dd') as time
		from user_lecture
		where no=#{no}

	</select>

	<select id="lectureCount" resultType="int">
		select count(no)
		from
		user_lecture
	</select>

	<delete id="lectureDelete" parameterType="int">
		delete user_lecture
		where no=#{no}
	</delete>

	<select id="lectureSelect" resultType="VideoLectureVO" parameterType="int">
		select no, title, contents, video
		from user_lecture
		where no=#{no}
	</select>

	<update id="lectureModify" parameterType="map">
		update user_lecture
		set title=#{title}, contents=#{contents}, video=#{video} 
		where no=#{no}
	</update>
</mapper>